/* ------------------------------------------- */
/* 1. Global Setup (Colors, Font, Dark/Light)  */
/* ------------------------------------------- */

@import url('https://fonts.googleapis.com/css2?family=Fira+Code:wght@300..700&display=swap');
$font-stack: 'Fira Code', 'Monaco', 'Courier New', monospace;

// Define Color Palettes using CSS Variables
:root {
  // --- Light Mode Defaults ---
  --color-text-primary: #1e1e1e; // Nearly Black
  --color-text-secondary: #5a5a5a; // Dark Grey
  --color-background: #ffffff; // Pure White
  --color-contrast: #39c08e; // Light Green/Teal (Contrast)
  --color-border: #e0e0e0; // Light Grey Border
  --color-code-bg: #f4f4f4; // Light Code Background
}

body.dark-mode {
  // --- Dark Mode Overrides ---
  --color-text-primary: #e0e0e0; // Light Grey
  --color-text-secondary: #a0a0a0; // Medium Grey
  --color-background: #1e1e1e; // Nearly Black
  --color-contrast: #39c08e; // Light Green/Teal (Contrast)
  --color-border: #3a3a3a; // Dark Grey Border
  --color-code-bg: #2d2d2d; // Dark Code Background
}

// Apply base styles
body {
  font-family: $font-stack;
  background-color: var(--color-background);
  color: var(--color-text-primary);
  transition: background-color 0.3s, color 0.3s;
  line-height: 1.6;
  margin: 0;
  padding: 0;
}

/* ------------------------------------------- */
/* 2. Blog Post Component Styling (Markdown)   */
/* ------------------------------------------- */

// Apply styles globally to elements rendered within your markdown component
// Note: You must ensure your markdown is rendered inside an element that applies these styles,
// or that the markdown component itself doesn't have an overriding shadow DOM.

// Headings (H1 - H4)
h1,
h2,
h3,
h4 {
  font-weight: 700;
  margin-top: 2rem;
  margin-bottom: 1rem;
  line-height: 1.2;
  color: var(--color-text-primary);
}

h1 {
  font-size: 2.5rem;
  border-bottom: 3px solid var(--color-contrast);
  padding-bottom: 0.5rem;
}

h2 {
  font-size: 2rem;
  border-bottom: 1px solid var(--color-border);
  padding-bottom: 0.25rem;
}

h3 {
  font-size: 1.5rem;
  color: var(--color-contrast); // Highlight secondary headings
}

h4 {
  font-size: 1.25rem;
  font-weight: 600;
}

// Links (A)
a {
  color: var(--color-contrast);
  text-decoration: none;
  border-bottom: 1px solid transparent; // Hidden border
  transition: border-bottom 0.2s;

  &:hover {
    color: var(--color-contrast);
    border-bottom: 1px solid var(--color-contrast); // Show border on hover
  }
}

// Lists (UL, OL)
ul,
ol {
  margin-left: 1.5rem;
  padding-left: 0;
  margin-bottom: 1rem;

  li {
    margin-bottom: 0.5rem;
  }
}

ul {
  list-style-type: 'â†’ '; // Use a subtle arrow for a modern look
}

// Tables
table {
  width: 100%;
  margin: 2rem 0;
  border-collapse: collapse;
  font-size: 0.95rem;
  border: 1px solid var(--color-border);

  th,
  td {
    padding: 10px 15px;
    text-align: left;
    border: 1px solid var(--color-border);
  }

  th {
    background-color: var(--color-code-bg); // Use code background for headers
    font-weight: 600;
    color: var(--color-text-primary);
  }

  tr:nth-child(even) {
    background-color: rgba(var(--color-border), 0.5); // Subtle stripe
  }
}

// Emphasis (Strong/Bold)
strong {
  font-weight: 700;
  color: var(--color-contrast); // Draw attention to important text
}

// Blockquotes
blockquote {
  margin: 2rem 0;
  padding: 1rem 1.5rem;
  border-left: 4px solid var(--color-contrast); // Highlight with contrast color
  background-color: var(--color-code-bg);
  color: var(--color-text-secondary);
  font-style: italic;
  font-size: 1.05rem;

  p {
    margin: 0;
  }
}

// Code Blocks (pre)
// Note: Inline <code> tags inside <p> or <li> are intentionally ignored here
// The ngx-markdown component typically renders code blocks inside <pre> tags.
pre {
  background-color: var(--color-code-bg);
  border: 1px solid var(--color-border);
  padding: 1rem;
  margin: 2rem 0;
  overflow-x: auto;
  border-radius: 4px;

  // The <code> tag *inside* the pre is the one you asked to ignore,
  // but it usually gets default styling from its parent <pre>
  code {
    background-color: transparent; /* Ensure it matches parent */
    color: inherit;
    font-size: 0.9em;
  }
}
